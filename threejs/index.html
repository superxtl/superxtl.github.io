<!DOCTYPE html>
<html>
<head>
	<title>First Scene</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/110/three.min.js"></script>
  <script src="MTLLoader.js"></script>
  <script src="OBJLoader.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.1/TweenMax.min.js"> </script>
	  <style>
    body{
      margin:0;
      height:100vh;
    }
    canvas{
      display:block;
    }
  </style>
</head>
<body>

</body>
</html>
<script type="text/javascript">
	  var scene=new THREE.Scene();
    var camera=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000);
    camera.position.z=25;
    var renderer=new THREE.WebGLRenderer({antialias:true});
    renderer.setClearColor(0x000000);
    renderer.setSize(window.innerWidth,window.innerHeight);
    document.body.appendChild(renderer.domElement);

    var light=new THREE.PointLight(0xFFFFFF,1.4,1000);
    light.position.set(15,0,15);
    scene.add(light);
    var o1;
    var o2;
    var objLoader=new THREE.OBJLoader();
    var mtlLoader=new THREE.MTLLoader();
    mtlLoader.load('glass.mtl',function(materials){
      materials.preload();
      objLoader.setMaterials(materials);
      objLoader.load('glass.obj',function(object){
        scene.add(object);
        o1=object;
        object.position.z=-100;
        object.position.y=-30;
      });
    });
    var objLoader=new THREE.OBJLoader();
    var mtlLoader=new THREE.MTLLoader();
    mtlLoader.load('heart.mtl',function(materials){
      materials.preload();
      objLoader.setMaterials(materials);
      objLoader.load('heart.obj',function(object){
        scene.add(object);
        o2=object;
        object.position.z=-100;
        object.position.y=-30;
        this.tl=new TimelineMax();
        this.tl.from(o2.scale,3,{x:0,y:0,z:0,ease:Expo.easeOut});
        this.tl.from(o1.scale,3,{y:0,x:0,z:0,ease:Expo.easeOut},'-=3');
      });
    });
    let render=function(){
      requestAnimationFrame(render);

      if(o1!=undefined&&o2!=undefined){
      o1.rotation.y-=0.01;
      o2.rotation.y-=0.01;
    
      renderer.render(scene,camera);
    }
    }

    window.addEventListener('resize',()=>{
        renderer.setSize(window.innerWidth,window.innerHeight);
        camera.aspect=window.innerWidth/window.innerHeight;
        camera.updateProjectionMatrix();
    });

    // var raycaster=new THREE.Raycaster();
    // var mouse=new THREE.Vector2;

    // function onMouseMove(){
    //   event.preventDefault();
    //   mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;
    //   mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;
    //   raycaster.setFromCamera(mouse,camera); 
    //   var intersects=raycaster.intersectObjects(scene.children,true);
    //   intersects.forEach(obj=>obj.object.scale.set(100,100,100));
    //   // for(var i=0;i<intersects.length;i++){
    //   //   console.log(intersects[i].object); 
    //   //   this.tl=new TimelineMax();
    //   //   this.tl.to(intersects[i].object.scale,1,{y:1.5,ease:Expo.easeOut});
    //   //   this.tl.to(intersects[i].object.scale,1,{x:1.5,ease:Expo.easeOut},"=-1");
    //   //   this.tl.to(intersects[i].object.rotation,1,{y:Math.PI*20,ease:Expo.easeOut},"=-0.5");
    //   // }
    // }
    //  window.addEventListener('mousemove',onMouseMove);
    render();
</script>